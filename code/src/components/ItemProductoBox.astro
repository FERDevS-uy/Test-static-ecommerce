---
import type Product from "../types/product";
import { config } from "../config";

export interface Props {
  producto: Product;
}

const { producto: p } = Astro.props;
---

<article class="producto_card">
  <a href={`${config.base}/producto/${p.id}`}>
    <img src={p.img[0]} alt={p.name} />
    <p>{p.name}</p>
  </a>
  <span class="price"><strong>${p.price}</strong></span>
  <div class="categories">
    {
      p.categories.map((c) => (
        <a href={`${config.base}/categories/${c}`} class="categoryTag">
          {c}
        </a>
      ))
    }
  </div>
</article>

<style>
  .producto_card {
    border: 1px solid #ccc;
    max-width: 500px;
    min-width: 300px;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
    margin-inline: auto;
    background-color: #fff;
  }
  .producto_card a {
    text-decoration: none;
    color: #000;
  }
  .producto_card img {
    width: 100%;
    aspect-ratio: 1/1;
    object-fit: contain;
  }
  .producto_card .price {
    font-size: 2rem;
  }

  .categories {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 10px;
    margin-block: 10px;
  }
  .categories .categoryTag {
    background-color: var(--base-color);
    border-radius: 25px;
    padding: 5px 10px;
    color: #fff;
  }
  .categories .categoryTag:hover {
    background-color: var(--base-color-blur);
  }
  .producto_card img {
    width: 100%;
    aspect-ratio: 1/1;
    object-fit: contain;
  }
</style>
